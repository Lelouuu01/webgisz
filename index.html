<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Objek Pariwisata di Kota Jakarta Utara</title>
    <!-- Updated to newer versions of Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <style>
      html,
      body,
      #map {
        height: 100%;
        width: 100%;
        margin: 0px;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>
    <script>
      /* Initial Map */
      var map = L.map("map").setView([-6.126601, 106.842958], 10);

      /* Tile Basemap */
      var basemap0 = L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>', // Fixed href attribute
      });

      var Esri_WorldImagery = L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}", {
        // Fixed URL formatting
        attribution: "Tiles &copy; Arya Dirgantara Alfiqhri &mdash; 23611103 Statistics Program Study at Universitas Islam Indonesia",
      });

      var OpenTopoMap = L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png", {
        maxZoom: 17,
        attribution:
          'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',
      });

      Esri_WorldImagery.addTo(map);

      var baseMaps = {
        "Open Street Map": basemap0,
        "Open Topo Map": OpenTopoMap,
        "Esri WorldImagery": Esri_WorldImagery,
      };

      var layerControl = L.control.layers(baseMaps, {}, { collapsed: false });
      layerControl.addTo(map);

      // Store icon URL in a variable to ensure it's accessible
      var iconUrl = "camera.png";

      // Add error handling for icon loading
      var customIcon = L.icon({
        iconUrl: iconUrl,
        iconSize: [30, 30],
        iconAnchor: [15, 30], // Added iconAnchor for better positioning
        popupAnchor: [0, -30], // Added popupAnchor for better positioning
      });

      // Function to create markers with error handling
      function createMarker(lat, lng, title, address) {
        try {
          var marker = L.marker([lat, lng], { icon: customIcon });
          marker.bindPopup("<b>" + title + "</b><br>" + address);
          marker.addTo(map);
          marker.bindTooltip(title);
          return marker;
        } catch (error) {
          console.error("Error creating marker for " + title + ": " + error);
        }
      }

      // Create markers using the function (showing first few as example)
      // All markers using the createMarker function
      createMarker(-6.1137292, 106.7950497, "Taman Waduk Pluit", "Alamat: 6, Jl. Pluit Timur Raya No.12, RT.6/RW.5, Pluit, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14450, Indonesia");
      createMarker(-6.1329076, 106.7837762, "Penjaringan City Forest Park", "Alamat: Jl. Kepanduan II, RT.7/RW.16, Pejagalan, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14450, Indonesia");
      createMarker(-6.1064903, 106.7368887, "Taman Wisata Alam Angke", "Alamat: Jl. Garden House, Kamal Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14470, Indonesia");
      createMarker(-6.1256079, 106.8465549, "Taman Impian Ancol", "Alamat: VRGV+WGR, 10, RT.1/RW.10, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1459804, 106.8776772, "Danau Sunter", "Alamat: VV3H+J33, Danau Sunter, RT.11/RW.11, Sunter Jaya, Kec. Tj. Priok, Jkt Utara, Daerah Khusus Ibukota Jakarta 14360, Indonesia");
      createMarker(-6.1264924, 106.8389517, "Pasar Seni", "Alamat: Taman Impian Jaya, Jl. Lodan timur No.7, RW.10, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1270318, 106.8725706, "Danau Cincin", "Alamat: Jl. Warakas VI Gg. 17 No.6, RT.8/RW.5, Papanggo, Kec. Tj. Priok, Jkt Utara, Daerah Khusus Ibukota Jakarta 14340, Indonesia");
      createMarker(-6.1252747, 106.8335569, "Taman Impian Jaya Ancol", "Alamat: Jl. Lodan Timur No.7, RT.14/RW.10, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.0907529, 106.7429807, "Urban Farm PIK", "Alamat: Kawasan Pantai Maju, Jl. The Golf Island Boulevard Kel, Kamal Muara, Kec. Penjaringan, Daerah Khusus Ibukota Jakarta 14460, Indonesia");
      createMarker(-6.1243125, 106.8358125, "Faunaland Ancol", "Alamat: Ecovention Building - Ecopark, Jl. Lodan Raya, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1253124, 106.8335377, "Dufan Ancol", "Alamat: Jl. Lodan Timur No.7, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1257185, 106.836356, "Allianz Eco Park", "Alamat: Jl. Lodan Timur No.7, RW.10, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1173332, 106.8579951, "Taman Impian Jaya Ancol", "Alamat: VVM5+359, Ancol, Pademangan, North Jakarta City, Jakarta 14430, Indonesia");
      createMarker(-6.093495, 106.7395843, "San Antonio Beach PIK 2", "Alamat: WP4Q+JR4, Kamal Muara, North Jakarta City, Jakarta, Indonesia");
      createMarker(-6.1350687, 106.8136795, "Wisata Kota Tua Jakarta", "Alamat: Kawasan Kota Tua, Taman Fatahillah No.1 7, RT.7/RW.7, Pinangsia, Kec. Taman Sari, Kota Jakarta Barat, Daerah Khusus Ibukota Jakarta 11110, Indonesia");
      createMarker(-6.1160075, 106.7692016, "Muara Angke Wildlife Refuge", "Alamat: 1, RT.1/RW.16, Kapuk Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14460, Indonesia");
      createMarker(-6.1600242, 106.90388, "Jogging Park 1 Kelapa Gading", "Alamat: Jalan Raya Boulevard Blok. GT 3, Kelapa Gading, RT.18/RW.16, Klp. Gading Tim., Kec. Klp. Gading, Jkt Utara, Daerah Khusus Ibukota Jakarta 14240, Indonesia");
      createMarker(-6.122041, 106.9053861, "Taman Walang Baru", "Alamat: Jl. Walang Baru Raya, RT.2/RW.15, Tugu Utara, Kec. Koja, Jkt Utara, Daerah Khusus Ibukota Jakarta 14260, Indonesia");
      createMarker(-6.0969781, 106.9588443, "Museum Kebaharian Jakarta Rumah Si Pitung", "Alamat: Jl. Kampung Marunda Pulo, 2, RT.2/RW.7, Marunda, Kec. Cilincing, Jkt Utara, Daerah Khusus Ibukota Jakarta 14150, Indonesia");
      createMarker(-6.1217534, 106.7544428, "Mangrove PIK", "Alamat: VQH3+6RM, RT.7/RW.7, Kapuk Muara, Penjaringan, North Jakarta City, Jakarta 14460, Indonesia");
      createMarker(-6.1220799, 106.7609549, "Mangrove Ecotourism Centre PIK", "Alamat: 7 Jalan Katamaran Indah 1 RT.7, RT.1/RW.7, Kapuk Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14460, Indonesia");
      createMarker(-6.1457784, 106.8764635, "Taman Danau Sunter", "Alamat: VV3G+MHP, RT.11/RW.11, Sunter Jaya, Tanjung Priok, North Jakarta City, Jakarta 14360, Indonesia");
      createMarker(-6.199387, 106.8326333, "Suropati Park", "Alamat: Jl. Taman Suropati No.5, RT.5/RW.5, Menteng, Kec. Menteng, Kota Jakarta Pusat, Daerah Khusus Ibukota Jakarta 10310, Indonesia");
      createMarker(-6.12419, 106.839134, "Atlantis Water Adventures Ancol", "Alamat: Jl. Lodan Timur, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1088374, 106.9697762, "Wisata Pemancingan Tarumanegara", "Alamat: Jl. Pinggir Dermaga No.6, RT.6/RW.1, Marunda, Kec. Cilincing, Jkt Utara, Daerah Khusus Ibukota Jakarta 14150, Indonesia");
      createMarker(
        -6.1477623,
        106.8962366,
        "Bounce Street Asia - Trampoline Park",
        "Alamat: sentra bisnis, Jalan, Jl. Artha Gading Sel. No.Kav 8 Blok B, RT.18/RW.8, Klp. Gading Bar., Kec. Klp. Gading, Jkt Utara, Daerah Khusus Ibukota Jakarta 14240, Indonesia"
      );
      createMarker(-6.126601, 106.842958, "Sea World Asia", "Alamat:Jl. Lodan timur No.7, RT.14/RW.10, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.12650109999999, 106.8429718, "Jakarta Bird Land", "Alamat: Jl. Lodan timur No.7, Ancol, Kec. Pademangan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.1243948, 106.8376908, "Ancol Learning Farm (Bertani)", "Alamat: RW.10, Ancol, Pademangan, RW.10, Ancol, Jakarta Utara, Jkt Utara, Daerah Khusus Ibukota Jakarta 14430, Indonesia");
      createMarker(-6.0890717, 106.7419587, "Pagoda @ PIK 2 Pantjoran Chinatown", "Alamat: WP6R+8R3, Pantai Indah Kapuk St, RT.7/RW.2, Kamal Muara, North Jakarta City, Jakarta 14460, Indonesia");
      // ... Add remaining markers similarly
    </script>
  </body>
</html>
